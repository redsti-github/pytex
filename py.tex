\let\e\expandafter
\catcode`@=11
\catcode`_=11

\def\@pytexError#1{%
	\errmessage{#1}%
}

\input{stack.tex}
\input{list.tex}
\input{active_chars.tex}
\input{localvar.tex}
\input{parser.tex}
\input{tokeniser.tex}
\input{runtime.tex}

\def\@pytexChar@DoubleQuote{\relax}
\def\@pytexChar@SingleQuote{\relax}

\let\@pytexPrevBeginMacro\begin
\def\begin#1{%
	\def\@pytexTMP{#1}%
	\ifx\@pytexTMP\STR_python%
		\@pytexTokeniser@begin%
	\else%
		\@pytexPrevBeginMacro{#1}%
	\fi%
}


\loggingall
\begin{python}

# todo: function definitions
# todo: class definitions
# todo: in-place assignments (+=, -=, etc.)
# todo: f-strings and other format strings


# Arithmetic operators
a = 10
b = 5
c = a + b  # Addition
d = a - b  # Subtraction
e = a * b  # Multiplication
# f = a / b  # Division TODO
g = a // b # Floor Division
# h = a % b  # Modulo TODO
i = -a     # Negation
i2 = +a    # Positive
# j = a ** b # Exponentiation TODO


# Parentheses for order of operations
k = (a + b) * c

# # Comparison operators TODO
# print(a == b)  # Equal to
# print(a != b)  # Not equal to
# print(a > b)   # Greater than
# print(a < b)   # Less than
# print(a >= b)  # Greater than or equal to
# print(a <= b)  # Less than or equal to


# # Logical operators
x = True and False  # AND
y = False or 5      # OR
z = not True        # NOT
print(x)
print(y)
print(z)
print(1+True)

# Conditional statements
if x:
    print(1)
elif y:
    print(2)
else:
    print(3)

\end{python}
% we support multiple python environments in a single file
\begin{python}

if z:
    pass
else:
    pass

y = 15
if y-15:
    pass
elif not y:
	pass
elif True and y:
    pass
else:
    pass


# # Bitwise operators TODO
# m = 10  # 1010 in binary
# n = 4   # 0100 in binary
# print(m & n)  # Bitwise AND
# print(m | n)  # Bitwise OR
# print(m ^ n)  # Bitwise XOR
# print(~m)   # Bitwise NOT
# print(m << 2) # Left shift
# print(m >> 1) # Right shift
# 
# 
# # Assignment operators TODO
# x = 10
# x += 5
# x -= 2

# Boolean values
isTrue = True
isFalse = False

# # Multiple assignments TODO
# p, q, r = 1, 2, 3
# print(p,q,r)

# TODO
# '''This is a
# multiline comment'''
# 
# 
# String operations TODO
# str1 = "Hello"
# str2 = " World"
# str3 = str1 + str2
# print(str3)
# len(str3)
# 

\end{python} % everything after \end{python} until newline gets ignored

\bye
